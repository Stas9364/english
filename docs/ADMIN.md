# Создание квизов и страниц с ответами

Пошаговое руководство: как устроен квиз, как добавлять страницы и настраивать ответы.

---

## Как устроен квиз

- **Квиз** — это один тест (например, «Present Simple»).
- У квиза есть **название** и **описание** (описание показывается пользователю в начале).
- Квиз состоит из **страниц**. Каждая страница — это один экран с заданиями.
- На каждой странице задаётся **тип ответа**: один вариант, несколько вариантов или ввод текста.
- Внутри страницы — **вопросы**. У каждого вопроса свой текст и свои варианты ответов (или список правильных фраз для текстового ввода).

Схема: **Квиз → Страницы → У каждой страницы тип + вопросы → У каждого вопроса варианты или правильные ответы**.

---

## Создание нового квиза

### Шаг 1. Основные поля

- **Quiz title** (обязательно) — название квиза, например «Present Simple». Оно отображается на главной и в начале теста.
- **Description (optional)** — краткое описание или инструкция. Показывается пользователю перед началом и при необходимости на странице.

### Шаг 2. Страницы

Под полями квиза идёт блок **Pages**.

- У каждой страницы есть карточка **Page 1**, **Page 2** и т.д.
- Страниц должно быть **хотя бы одна**. Добавление новой страницы — кнопка **Add page** внизу блока «Pages».

В каждой карточке страницы настраивается:

1. **Page type** — тип ответов на этой странице:
   - **Single choice** — один правильный вариант (радиокнопки).
   - **Multiple choice** — несколько правильных вариантов (чекбоксы).
   - **Text input** — пользователь вводит текст; правильность проверяется по списку допустимых ответов.
2. **Page title (optional)** — подзаголовок страницы, если нужен.
3. **Questions** — список вопросов на этой странице (см. ниже).

Иконка корзины рядом с заголовком страницы удаляет страницу. Удалить можно только если страниц больше одной.

### Шаг 3. Вопросы внутри страницы

Внутри каждой страницы — блок **Questions**.

- Вопросов на странице должно быть **хотя бы один**.
- Новый вопрос — кнопка **Add question** внизу блока вопросов этой страницы.

У каждого вопроса заполняете:

- **Question text** (обязательно) — текст вопроса, например «Choose the correct form».
- **Explanation (optional)** — пояснение, которое показывается пользователю после проверки ответа.

Иконка корзины рядом с «Question 1», «Question 2» удаляет вопрос. Удалить можно только если вопросов больше одного.

### Шаг 4. Варианты ответов (Single choice и Multiple choice)

Если у страницы тип **Single choice** или **Multiple choice**, у каждого вопроса есть блок **Options**.

- Каждый вариант — это поле с текстом и чекбокс **Correct**.
- **Single choice**: отметьте **Correct** только у одного варианта — это и будет правильный ответ.
- **Multiple choice**: отметьте **Correct** у всех вариантов, которые считаются правильными; пользователь должен выбрать все правильные.
- Кнопка **Add option** внизу списка вариантов добавляет новый вариант. Иконка корзины рядом с вариантом удаляет его. Вариантов должно остаться **минимум один**.
- У каждого вопроса свой набор вариантов; они не связаны с другими вопросами.

### Шаг 5. Правильные ответы для Text input

Если у страницы тип **Text input**, у каждого вопроса вместо вариантов выбора показывается блок **Correct answers (any match counts)**.

- Это список **допустимых правильных фраз**. Пользователь вводит ответ в поле; если введённый текст совпадает с одним из этих фраз (без учёта регистра и лишних пробелов), ответ засчитывается как верный.
- Добавление варианта — кнопка **Add correct answer**. В каждое поле введите один допустимый ответ (например, «have» и «has» — оба будут считаться правильными).
- Иконка корзины удаляет строку. Должен остаться **хотя бы один** правильный ответ.
- Можно указать несколько формулировок, если подходят разные написания или синонимы.

### Шаг 6. Сохранение

Нажмите **Create quiz**. После успешного сохранения появится сообщение «Quiz created successfully», форма очистится, а новый квиз появится в списке «Your quizzes» и на главной странице сайта.

---

## Редактирование квиза

1. На странице `/admin` в блоке **Your quizzes** нажмите иконку карандаша у нужного квиза.
2. Откроется форма редактирования с текущими данными.
3. Можно менять всё то же самое, что и при создании:
   - название и описание квиза;
   - у каждой страницы — тип, опциональный заголовок, список вопросов;
   - у каждого вопроса — текст, пояснение, варианты ответов (или список правильных ответов для Text input).
4. Дополнительно:
   - **Add page** — добавить страницу.
   - **Add question** — добавить вопрос на выбранную страницу.
   - **Add option** / **Add correct answer** — добавить вариант или допустимый ответ.
   - Иконки корзины — удалить страницу, вопрос или вариант (с ограничениями: минимум одна страница, один вопрос на странице, один вариант/один правильный ответ на вопрос).
5. Нажмите **Save changes**. После успешного сохранения появится сообщение «Quiz updated successfully».

На странице редактирования также есть поле **Slug** — это адрес квиза в интернете (например, `/quiz/present-simple`). Его можно при необходимости изменить.

---

## Краткая памятка

| Что настраиваете | Где | Обязательно |
|------------------|-----|-------------|
| Название квиза | Quiz title | Да |
| Описание | Description | Нет |
| Тип ответов на странице | Page type: Single / Multiple / Text input | Да |
| Заголовок страницы | Page title | Нет |
| Текст вопроса | Question text | Да |
| Пояснение после ответа | Explanation | Нет |
| Варианты (single/multiple) | Options + Correct | Минимум один вариант, хотя бы один Correct |
| Допустимые ответы (text input) | Correct answers | Минимум один правильный ответ |

Если при сохранении появляется ошибка — проверьте, что заполнены все обязательные поля и что у каждого вопроса с выбором вариантов отмечен хотя бы один правильный вариант, а у текстовых вопросов указан хотя бы один правильный ответ.
